{% extends "itemApp/base.html" %}
{% block title %}Reservas{% endblock %}
{% block content %}
<div class="card shadow-sm">
  <div class="card-body">
    <div class="d-flex justify-content-between align-items-center mb-3">
      <h5 class="card-title mb-0">Reservas</h5>
      <a href="{% url 'reserva_create' %}" class="btn btn-success">Nueva reserva</a>
    </div>

    <table class="table table-striped align-middle text-center">
      <thead class="table-dark">
        <tr>
          <th>ID</th><th>Nombre</th><th>Fecha</th><th>Hora</th>
          <th>Personas</th><th>Estado</th><th>Mesa</th><th>Acciones</th>
        </tr>
      </thead>
      <tbody>
        {% for r in reservas %}
        <tr>
          <td>{{ r.id }}</td>
          <td>{{ r.nombre }}</td>
          <td>{{ r.fecha|date:"d/m/Y" }}</td>
          <td>{{ r.hora|time:"H:i" }}</td>
          <td>{{ r.personas }}</td>
          <td>{{ r.estado }}</td>
          <td>{{ r.mesa }}</td>
          <td>
            <a href="{% url 'reserva_update' r.id %}" class="btn btn-sm btn-primary me-2">Editar</a>
            <a href="{% url 'reserva_delete' r.id %}" class="btn btn-sm btn-danger">Eliminar</a>
          </td>
        </tr>
        {% empty %}
        <tr><td colspan="8" class="text-muted py-3">No hay reservas registradas.</td></tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>
{% endblock %}
